<!DOCTYPE HTML>
<html>
    <head>
        <script src="https://code.jquery.com/jquery-3.1.1.min.js" type="text/javascript"></script>
        <script src="dist/all-lib.js" type="text/javascript"></script>
        <script src="js/game/network.js"></script>
    </head>
    <body>
        <h2>Games</h2>
        <ul>
            <% for(let key in lobby.games) { %>
                <li><%= lobby.games[key].name %> - <%= lobby.games[key].creator %> 
                <button class="join-game" game-name="<%= lobby.games[key].name%>">Join</button></li>
            <% }; %>
        </ul>
        <div id="game-area" style="position:absolute; top:20px;"></div>
    </body>
<html>
<script>
    var network = new Network();
    $('.join-game').click(function(event){
        var gameName = $(this).attr('game-name');

        
        $.post("/joinGame", { gameName: gameName}).done(function( data ) {
            window.location.href = '/game';
        });
    }); 
</script>